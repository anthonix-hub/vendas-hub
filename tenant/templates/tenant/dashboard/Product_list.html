{% extends "tenant/dashboard/dashboard_base.html" %}
{% load humanize %}
{% block content %}
<div class="md-24">
    <div class="border md:grid-cols-4 text-sm px-2 bg-gray-100 py-10 gap-6 shadow mt-4">
        <div class="container mx-auto p-4 mt-">
            <div class="flex gap-12 justify-between items-center">
                <div>
                    <h2 class="text-2xl mb- font-semibold">Product List</h2>
                </div>
                <div>
                    <a href="{% url 'tenant:admin_product_create' %}" class="bg-blue-500 text-white py-2 px-4 hover:bg-blue-600 hover:shadow-md rounded shadow-md text-xs">
                        Add Product
                    </a>
                </div>
            </div>
            <div class="min-w-full bg-gray-50 mt-4 md:px-32 py-3 lg:px-72">
                <div class="shadow-lg bg-white">
                    {% for product in page_obj %}
                        <div class="grid grid-cols-3 border shadow items-center text-sm px-3 mt-4 mb-4 hover:bg-gray-100 transition duration-150">
                            <div class="items-center grid justify-center">
                                <div class="py-2">
                                    <img src="{{ product.image.url }}" alt="" class="w-24 h-24 object-cover rounded">
                                </div>
                                <div class="py-2 text-xs font-medium">{{ product.name }}</div>
                                <div class="py-2 text-gray-700 font-bold">â‚¦{{ product.price|intcomma }}</div>
                            </div>
                            <div class="py-2 text-center text-gray-600">Available stock: {{ product.stock }}</div>
                            <div class="py-2 gap-4 items-center grid md:grid-cols-2 grid-cols-1 justify-items-center">
                                <div>
                                    <a href="{% url 'tenant:admin_product_update' product.id %}" class="shadow-md border border-green-500 hover:bg-green-500 text-black hover:text-white py-1 px-4 rounded transition duration-150">
                                        Edit
                                    </a>
                                </div>
                                <div>
                                    <a href="{% url 'tenant:admin_product_delete' product.id %}" class="shadow-md border border-red-500 hover:bg-red-500 text-black hover:text-white py-1 px-2 rounded transition duration-150">
                                        Delete
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% empty %}
                        <div class="text-center py-4 text-gray-500">
                            No products available.
                        </div>
                    {% endfor %}
                </div>
            </div>
            <!-- Pagination -->
            <div class="mt-6 flex justify-center">
                <nav class="inline-flex rounded-md shadow">
                    {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}" class="px-4 py-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                            Previous
                        </a>
                    {% else %}
                        <span class="px-4 py-2 border border-gray-300 bg-gray-200 text-gray-500 cursor-not-allowed">
                            Previous
                        </span>
                    {% endif %}
                    {% for page_num in page_obj.paginator.page_range %}
                        {% if page_num == page_obj.number %}
                            <span class="px-4 py-2 border border-gray-300 bg-blue-500 text-white">
                                {{ page_num }}
                            </span>
                        {% else %}
                            <a href="?page={{ page_num }}" class="px-4 py-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                                {{ page_num }}
                            </a>
                        {% endif %}
                    {% endfor %}
                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}" class="px-4 py-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                            Next
                        </a>
                    {% else %}
                        <span class="px-4 py-2 border border-gray-300 bg-gray-200 text-gray-500 cursor-not-allowed">
                            Next
                        </span>
                    {% endif %}
                </nav>
            </div>
        </div>
    </div>
</div>
{% endblock %}