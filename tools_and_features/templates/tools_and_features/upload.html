{% extends "tenant/dashboard/dashboard_base.html" %}

{% block content %}
<div class="container mx-auto p-4 px-12 md:px-60 lg:px-72 ">
    <h2 class="text-2xl font-semibold mb-6 mt-12 drop-shadow-md ">
        <a href="{% url 'tools_andfeatures:useful_tools' %}">useful tools</a>
        <span class="text-gray-500">/remove</span>
    </h2>
    <div class="mb-24">
        <form method="POST" enctype="multipart/form-data" class="mt-12 flex justify-center" onsubmit="startProgressBar();">
            {% csrf_token %}
            <div class="grid grid-cols-1 border px-3 py-12 rounded-md gap-4 mx-2 bg-gray-50 shadow ">
                <div class="font-italic -mt-10 text-gray-500">remove bg</div>
                <div class="border px-1 rounded rounded-2 text-xs py-2">
                    <label for="image">Upload an Image:</label>
                    <input type="file" name="image" id="image" required>
                </div>
                <div id="progress-bar-container" class="hidden w-full bg-gray-200 rounded mt-4">
                    <div id="progress-bar" class="bg-blue-500 text-xs leading-none h-4 rounded text-white text-center" style="width: 0%;">0%</div>
                </div>
                <div class="flex">
                    <button type="submit" class="border rounded py-1 px-2 bg-blue-500 hover:bg-blue-400 rounded-md shadow-md text-white text-xs">
                        Remove Background
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    function startProgressBar() {
        const progressBarContainer = document.getElementById('progress-bar-container');
        const progressBar = document.getElementById('progress-bar');

        progressBarContainer.classList.remove('hidden');

        let progress = 0;
        const interval = setInterval(() => {
            progress += 5;
            progressBar.style.width = progress + '%';
            progressBar.textContent = progress + '%';

            if (progress >= 100) {
                clearInterval(interval);
            }
        }, 100); // Simulate progress every 100ms
    }
</script>
{% endblock %}
